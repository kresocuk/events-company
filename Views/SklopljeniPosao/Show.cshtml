@model TestWebApp.ViewModels.ComplexViewModel


<div class="row justify-content-sm-center">
    <div class="col-sm-2">
        Nasa Ponuda: @Model.sklopljeniposao.Cijena.ToString()
    </div>
    <div class="col-sm-1 text-right">
        <a asp-action="Edit"
           asp-route-id="@Model.sklopljeniposao.Id"
           asp-route-page="@ViewBag.Page"
           asp-route-sort="@ViewBag.Sort"
           asp-route-ascending="@ViewBag.Ascending"
           class="btn btn-sm btn-warning" title="Ažuriraj"
           target="_blank">
            <i class="fas fa-edit"></i>
        </a>
    </div>
    <form asp-action="Delete" method="post"
          asp-route-page="@ViewBag.Page"
          asp-route-sort="@ViewBag.Sort"
          asp-route-ascending="@ViewBag.Ascending">
        <input type="hidden" name="Id" value="@Model.sklopljeniposao.Id" />
        <button type="submit" class="btn btn-sm btn-danger delete" title="Obriši"><i class="fas fa-trash-alt"></i></button>
    </form>
    <div class="col-sm-1 text-right">
        <a asp-action="Index"
           asp-route-id="@Model.sklopljeniposao.Id"
           asp-route-page="@ViewBag.Page"
           asp-route-sort="@ViewBag.Sort"
           asp-route-ascending="@ViewBag.Ascending"
           class="btn btn-sm btn-primary" title="Povratak"><i class="fas fa-undo-alt"></i></a>
    </div>
</div>

<table class="table table-sm table-striped table-hover" id="tablejavninatjecaji">
    <thead>
        <tr>
            @{
                string[] nazivi = { "Id", "Cijnea", "Vrijeme", "Lokacija", "Kontakt", "Detalji" };
                bool[] sortable = { false, false, false, false, false, false };
                for (int i = 1; i <= nazivi.Length; i++)
                {
                    <th>
                        @if (sortable[i - 1])
                        {
                            <a asp-route-sort="@i"
                               asp-route-page="@ViewBag.Page"
                               asp-route-ascending="@(ViewBag.Sort == i ? !ViewBag.Ascending : true)">
                                @nazivi[i - 1]
                            </a>
                        }
                        else
                        {
                            @nazivi[i - 1]
                        }

                    </th>
                }
            }
            <th></th>

        </tr>
    </thead>

    <tbody>
        <tr>
            <td class="text-left">@Model.sklopljeniposao.Id</td>
            <td class="text-left">@Model.sklopljeniposao.Cijena</td>
            <td class="text-left">@Model.sklopljeniposao.Vrijeme</td>
            <td class="text-left">@Model.sklopljeniposao.Lokacija</td>
            <td class="text-left">@Model.sklopljeniposao.Kontakt</td>
            <td class="text-left">@Model.sklopljeniposao.Detalji</td>
            <td class="btn-group">
            </td>
        </tr>

    </tbody>
</table>

<h4>Osobe:</h4>

<a href="../../SklopljeniPosaoOsoba/Create">Dodaj novu osobu</a>

<table class="table table-sm table-striped table-hover" id="tableosobe">
    <thead>
        <tr>
            @{
                string[] nazivi1 = { "Id", "Osoba", "Posao", "Trajanje" };
                bool[] sortable1 = { false, false, false, false };
                for (int i = 1; i <= nazivi1.Length; i++)
                {
                    <th>
                        @if (sortable1[i - 1])
                        {
                            <a asp-route-sort="@i"
                               asp-route-page="@ViewBag.Page"
                               asp-route-ascending="@(ViewBag.Sort == i ? !ViewBag.Ascending : true)">
                                @nazivi1[i - 1]
                            </a>
                        }
                        else
                        {
                            @nazivi1[i - 1]
                        }

                    </th>
                }
            }
            <th></th>

        </tr>
    </thead>


    <tbody>
        @foreach (var sposoba in Model.sposobe)
        {
            <tr>
                <td class="text-left"> @sposoba.Id</td>
                <td class="text-left">@sposoba.OsobaId</td>
                <td class="text-left">@sposoba.PosaoId</td>
                <td class="text-left">@sposoba.Trajanje</td>
                <td class="btn-group">
                </td>
            </tr>

        }
    </tbody>
</table>

<h4>Oprema:</h4>

<a href="../../SklopljeniPosaoOprema/Create">Dodaj novu opremu</a>

<table class="table table-sm table-striped table-hover" id="tableoprema">
    <thead> 
        <tr>
            @{
                string[] nazivi2 = { "Id", "Oprema", "Trajanje" };
                bool[] sortable2 = { false, false, false};
                for (int i = 1; i <= nazivi2.Length; i++)
                {
                    <th>
                        @if (sortable2[i - 1])
                        {
                            <a asp-route-sort="@i"
                               asp-route-page="@ViewBag.Page"
                               asp-route-ascending="@(ViewBag.Sort == i ? !ViewBag.Ascending : true)">
                                @nazivi2[i - 1]
                            </a>
                        }
                        else
                        {
                            @nazivi2[i - 1]
                        }

                    </th>
                }
            }
            <th></th>

        </tr>
    </thead>

    <tbody>
        @foreach (var spoprema in Model.spopreme)
        {
        <tr>
            <td class="text-left">@spoprema.Id</td>
            <td class="text-left">@spoprema.OpremaId</td>
            <td class="text-left">@spoprema.Trajanje</td>
            <td class="btn-group">
            </td>
        </tr>

        }
    </tbody>
</table>

@section Styles{

}

@section scripts{

}
